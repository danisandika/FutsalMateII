<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
      xmlns:p="http://primefaces.org/ui"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough">
    <body>
        <ui:composition template="/TemplatePengelola.xhtml">

            <ui:define name="iconTitle">
                <i class="pe-7s-drawer icon-gradient bg-happy-itmeo"></i>
            </ui:define>

            <ui:define name="title">
                <h:outputText value="Edit Futsal"></h:outputText>
            </ui:define>

            <ui:define name="descript">
               Tempat Futsal
            </ui:define>

            <ui:define name="titleRight">
                
            </ui:define>

            <ui:define name="main">
                
                <!--Google Maps-->
                <script type="text/javascript" src="https://maps.google.com/maps/api/js?sensor=false"></script>
                <script type="text/javascript">
                    var currentMarker = null;
                    function handlePointClick(event) {
                        if(currentMarker === null) {
                            document.getElementById('formId:lat').value = event.latLng.lat();
                            document.getElementById('formId:lng').value = event.latLng.lng();

                            currentMarker = new google.maps.Marker({
                                position:new google.maps.LatLng(event.latLng.lat(), event.latLng.lng())
                            });

                            PF('map').addOverlay(currentMarker);
                            
                        }   
                    }

                    
                </script>
                
                
                
                
                <ul class="body-tabs body-tabs-layout tabs-animated body-tabs-animated nav">
                    <li class="nav-item">
                        <a role="tab" class="nav-link active" id="tab-0" data-toggle="tab" href="#tab-content-0">
                            <span>Edit Futsal</span>
                        </a>
                    </li>
                </ul>
                
                <div class="tab-content">                 
                     <div class="tab-pane tabs-animation show active" id="tab-content-0" role="tabpanel">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="main-card mb-3 card">
                                    <div class="card-body">
                                        <h5 class="card-title">Edit </h5>
                                        <p:tooltip />
                                        
                                        <h:form id="formId" enctype="multipart/form-data">
                                        <p:growl id="messages" showDetail="true" />
                                        <div class="input-group"> 
                                            <div class="input-group-prepend"><span class="input-group-text">Nama</span></div>
                                            <h:inputText id="nama" value="#{tbFutsalController.current.namaFutsal}" 
                                                         title="Nama" required="true" requiredMessage="Nama Futsal tidak boleh kosong" class="form-control"/>
                                            <p:growl for="nama" showDetail="true" />
                                        </div>
                                        <br></br>
                                         <div class="input-group"> 
                                            <div class="input-group-prepend"><span class="input-group-text">No.Telp</span></div>
                                            <p:inputText id="notelp" value="#{tbFutsalController.current.notelpFutsal}" title="No.Telp" required="true" 
                                                         requiredMessage="No.Telp tidak boleh kosong" class="form-control" validatorMessage="Nomor telepon tidak sesuai" maxlength="15">
                                                <f:validateRegex pattern="^[0-9]{1,13}$"/>
                                            </p:inputText>
                                            <p:growl for="notelp" showDetail="true" />
                                        </div>
                                        <br></br>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Alamat</span>
                                            </div>
                                            <h:inputTextarea id="alamat" rows="2" value="#{tbFutsalController.current.alamatFutsal}"  title="Alamat Futsal" 
                                                             required="true" requiredMessage="Alamat tidak boleh kosong" class="form-control" />
                                            <p:growl for="alamat" showDetail="true" />
                                        </div>
                                        <br></br>
                                         <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Fasilitas</span>
                                            </div>
                                             <h:inputTextarea id="fasilitas" rows="2" value="#{tbFutsalController.current.fasilitas}"  title="Fasilitas" 
                                                              required="false"  class="form-control"/>
                                        </div>
                                        <br></br>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Deskripsi</span>
                                            </div>
                                             <h:inputTextarea id="deskripsi" rows="2" value="#{tbFutsalController.current.deskripsiFutsal}"  title="Alamat" 
                                                              required="false" class="form-control"/>
                                        </div>
                                        <br></br>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="input-group"> 
                                                    <div class="input-group-prepend"><span class="input-group-text">Nama Rekening</span></div>
                                                    <h:inputText id="namarek" value="#{tbFutsalController.current.namaRekening}" title="Nama Rekening" 
                                                                 required="true" requiredMessage="Nama Rekening tidak boleh kosong" class="form-control"/>
                                                    <p:growl for="namarek" showDetail="true" />
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-group"> 
                                                    <div class="input-group-prepend"><span class="input-group-text">Nomor Rekening</span></div>
                                                    <p:inputText id="norek" value="#{tbFutsalController.current.noRekening}" title="Nomor Rekening" required="true" 
                                                                 requiredMessage="Nomor Rekening tidak boleh kosong" class="form-control" validatorMessage="Nomor Rekening tidak sesuai kriteria" maxlength="20">
                                                        <f:validateRegex pattern="^[0-9]{1,20}$"/> 
                                                    </p:inputText>
                                                    <p:growl for="norek" showDetail="true" />
                                                </div>
                                            </div>
                                        </div>
                                        <br></br>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Nama Bank</span>
                                            </div>
                                            <h:selectOneMenu id="bankrek" value="#{tbFutsalController.current.namaBank}" style="width:125px" class="form-control" required="true" requiredMessage="Data Bank tidak boleh kosong">
                                                <f:selectItem itemLabel="Bank Rakyat Indonesia (BRI)" itemValue="BRI" />
                                                <f:selectItem itemLabel="Mandiri" itemValue="Mandiri" />
                                                <f:selectItem itemLabel="Bank Negara Indonesia (BNI)" itemValue="BNI" />
                                                <f:selectItem itemLabel="Permata Bank" itemValue="Permata" />
                                                <f:selectItem itemLabel="Bank Central Asia (BCA)" itemValue="BCA" />
                                                <f:selectItem itemLabel="Danamon" itemValue="Danamon" />
                                                <f:selectItem itemLabel="Mega" itemValue="Mega" />
                                                <f:selectItem itemLabel="Bukopin" itemValue="Bukopin" />
                                                <f:selectItem itemLabel="OCBC NISP" itemValue="OCBC NISP" />
                                                <f:selectItem itemLabel="CIMB Niaga" itemValue="CIMB Niaga" />
                                                <f:selectItem itemLabel="Panin" itemValue="Panin" />
                                            </h:selectOneMenu>
                                            <p:growl for="bankrek" showDetail="true" />
                                        </div>
                                        <br></br>
                                        
                                        <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">Edit dengan 1x Klik / Refresh jika tidak sengaja Klik</span>
                                        </div>
                                        <p:gmap id="gmap" center="#{tbFutsalController.current.latitude},#{tbFutsalController.current.longitude}" zoom="13" type="HYBRID" style="width:100%;height:400px"
                                                model="#{markersView.simpleModel}" widgetVar="map" onPointClick="handlePointClick(event);"/>
                                        
                                        </div>
                                        <br/>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="input-group"> 
                                                    <div class="input-group-prepend"><span class="input-group-text">Latitude Koordinat</span></div>
                                                    <h:inputText id="lat" value="#{tbFutsalController.current.latitude}" title="Latitude" class="form-control"/>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="input-group"> 
                                                    <div class="input-group-prepend"><span class="input-group-text">Longitude Koordinat</span></div>
                                                    <h:inputText id="lng" value="#{tbFutsalController.current.longitude}" title="Longitude" class="form-control" />
                                                </div>
                                            </div>
                                        </div>
                                        <br></br>
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Upload Gambar</span>
                                            </div>
                                            <h:inputFile id="logoFutsal" value="#{tbFutsalController.gambar}" 
                                                title="Logo Futsal" required="true" 
                                                requiredMessage="Logo Harus Diunggah"/>
                                            <p:growl for="logoFutsal" showDetail="true" />
                                        </div>
                                        <br/>
                                         <div class="input-group">
                                             <h:commandLink action="#{tbFutsalController.update}" value="Update" class="btn btn-primary" style="width: 100%;"/>
                                         </div>
                                        <br/>
                                        <div class="input-group">
                                            <h:commandLink onclick="history.go(-1); return false;" value="Cancel" a:type="reset" class="btn btn-danger" style="width: 100%;"/>
                                         </div>
                                        </h:form>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                    </div>
                    

                </div>

            </ui:define>

        </ui:composition>

    </body>
</html>

